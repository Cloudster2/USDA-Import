{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "ImportUSDA"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/DairyProductionAPI')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "RestDairyProduction",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DataFactoryTable')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SaraDB connection",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [
					{
						"name": "USDAId",
						"type": "int",
						"precision": 10
					},
					{
						"name": "GRP",
						"type": "varchar"
					},
					{
						"name": "GRPID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Commodity",
						"type": "varchar"
					},
					{
						"name": "CommodityID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "UtilPract",
						"type": "varchar"
					},
					{
						"name": "Class",
						"type": "varchar"
					},
					{
						"name": "ProdPract",
						"type": "varchar"
					},
					{
						"name": "Category",
						"type": "varchar"
					},
					{
						"name": "CatID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Unit",
						"type": "varchar"
					},
					{
						"name": "UnitID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Domain",
						"type": "varchar"
					},
					{
						"name": "DomainCat",
						"type": "varchar"
					},
					{
						"name": "ItemConcat",
						"type": "varchar"
					},
					{
						"name": "StateAnsiInt",
						"type": "int",
						"precision": 10
					},
					{
						"name": "StateAnsi",
						"type": "varchar"
					},
					{
						"name": "GeoID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Region",
						"type": "varchar"
					},
					{
						"name": "State",
						"type": "varchar"
					},
					{
						"name": "WeekEnding",
						"type": "date"
					},
					{
						"name": "WeekEndingString",
						"type": "varchar"
					},
					{
						"name": "Year",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Frequency",
						"type": "varchar"
					},
					{
						"name": "FreqID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Period",
						"type": "varchar"
					},
					{
						"name": "PeriodID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "ValueDec",
						"type": "decimal",
						"precision": 18,
						"scale": 0
					},
					{
						"name": "Value",
						"type": "varchar"
					},
					{
						"name": "NormValue",
						"type": "decimal",
						"precision": 18,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "USDA",
					"table": "USDADataFactory"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DestinationDataset_jok')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "03.02",
						"container": "dwtemp"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EU27Trade')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"sheetName": "EU",
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "EU-27 Trade.xlsx",
						"container": "trade-data-container"
					},
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "partner",
						"type": "String"
					},
					{
						"name": "volume",
						"type": "String"
					},
					{
						"name": "value_1",
						"type": "String"
					},
					{
						"name": "unit",
						"type": "String"
					},
					{
						"name": "declarant",
						"type": "String"
					},
					{
						"name": "product",
						"type": "String"
					},
					{
						"name": "productname",
						"type": "String"
					},
					{
						"name": "flow",
						"type": "String"
					},
					{
						"name": "period",
						"type": "String"
					},
					{
						"name": "indicator",
						"type": "String"
					},
					{
						"name": "year",
						"type": "String"
					},
					{
						"name": "month",
						"type": "String"
					},
					{
						"name": "interval",
						"type": "String"
					},
					{
						"name": "datemonth",
						"type": "String"
					},
					{
						"name": "value_2",
						"type": "String"
					},
					{
						"name": "port",
						"type": "String"
					},
					{
						"name": "district",
						"type": "String"
					},
					{
						"name": "transport",
						"type": "String"
					},
					{
						"name": "partner_name",
						"type": "String"
					},
					{
						"name": "declarant_name",
						"type": "String"
					},
					{
						"name": "reported_or_mirrored",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUCowsNum')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "EU Dataset Dairy Cow Herd.xlsx",
						"container": "trade-data-container"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "DATAFLOW",
						"type": "String"
					},
					{
						"name": "LAST UPDATE",
						"type": "String"
					},
					{
						"name": "freq",
						"type": "String"
					},
					{
						"name": "animals",
						"type": "String"
					},
					{
						"name": "month",
						"type": "String"
					},
					{
						"name": "unit",
						"type": "String"
					},
					{
						"name": "geo",
						"type": "String"
					},
					{
						"name": "TIME_PERIOD",
						"type": "String"
					},
					{
						"name": "OBS_VALUE",
						"type": "String"
					},
					{
						"name": "OBS_FLAG",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUDairy')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "EU Dataset Milk and Dairy Production.xlsx",
						"container": "trade-data-container"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "DATAFLOW",
						"type": "String"
					},
					{
						"name": "LAST UPDATE",
						"type": "String"
					},
					{
						"name": "freq",
						"type": "String"
					},
					{
						"name": "dairyprod",
						"type": "String"
					},
					{
						"name": "unit",
						"type": "String"
					},
					{
						"name": "geo",
						"type": "String"
					},
					{
						"name": "TIME_PERIOD",
						"type": "String"
					},
					{
						"name": "OBS_VALUE",
						"type": "String"
					},
					{
						"name": "OBS_FLAG",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUDairyImp')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Sara Database",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ImpEUID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "CountryCde",
						"type": "varchar"
					},
					{
						"name": "Date",
						"type": "date"
					},
					{
						"name": "C1",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C2",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C3",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C4",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C5",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C6",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C7",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C8",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C9",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C10",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C11",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C12",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C13",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C14",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					},
					{
						"name": "C15",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					}
				],
				"typeProperties": {
					"schema": "GLOBL",
					"table": "EUDairySlaughterImp"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUGobalImport')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Sara Database",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "EUID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Date",
						"type": "date"
					},
					{
						"name": "DateString",
						"type": "varchar"
					},
					{
						"name": "YearString",
						"type": "varchar"
					},
					{
						"name": "Year",
						"type": "int",
						"precision": 10
					},
					{
						"name": "MonthString",
						"type": "varchar"
					},
					{
						"name": "Month",
						"type": "int",
						"precision": 10
					},
					{
						"name": "ItemID",
						"type": "varchar"
					},
					{
						"name": "ValueString",
						"type": "varchar"
					},
					{
						"name": "Value",
						"type": "decimal",
						"precision": 18,
						"scale": 2
					}
				],
				"typeProperties": {
					"schema": "GLOBL",
					"table": "EUGlobalImp"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUSlaughter')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "EU Dataset Dairy Cow Slaughter.xlsx",
						"container": "trade-data-container"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUSlaughterDairy')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"sheetName": "Claudia",
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "EU27 Dairy and Slaughter.xlsx",
						"container": "trade-data-container"
					},
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					},
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EUTrade')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"sheetName": "Sheet0",
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "EU (only) Trade.xlsx",
						"container": "trade-data-container"
					},
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "partner",
						"type": "String"
					},
					{
						"name": "volume",
						"type": "String"
					},
					{
						"name": "value_1",
						"type": "String"
					},
					{
						"name": "unit",
						"type": "String"
					},
					{
						"name": "declarant",
						"type": "String"
					},
					{
						"name": "product",
						"type": "String"
					},
					{
						"name": "productname",
						"type": "String"
					},
					{
						"name": "flow",
						"type": "String"
					},
					{
						"name": "period",
						"type": "String"
					},
					{
						"name": "indicator",
						"type": "String"
					},
					{
						"name": "year",
						"type": "String"
					},
					{
						"name": "month",
						"type": "String"
					},
					{
						"name": "interval",
						"type": "String"
					},
					{
						"name": "datemonth",
						"type": "String"
					},
					{
						"name": "value_2",
						"type": "String"
					},
					{
						"name": "port",
						"type": "String"
					},
					{
						"name": "district",
						"type": "String"
					},
					{
						"name": "transport",
						"type": "String"
					},
					{
						"name": "partner_name",
						"type": "String"
					},
					{
						"name": "declarant_name",
						"type": "String"
					},
					{
						"name": "reported_or_mirrored",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EuroAllCountries')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "EuroAllCountries",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EuroCountriesTable')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "tradeDB",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "GTTEuroToCOuntries"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EuroMilkPrices')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "EuroCommission",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EuroMilkPricesTable')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Sara Database",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "EuroMilkPrices_BI"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/EuroWorld')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "EuroWorld",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FFM3358')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Sara Database",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "FFM",
					"table": "FFM3358"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FuturesBlob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"sheetName": "Closing Prices",
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "Futures   Carry.xlsx",
						"container": "trade-data-container"
					},
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Contract",
						"type": "String"
					},
					{
						"name": "Description",
						"type": "String"
					},
					{
						"name": "Source",
						"type": "String"
					},
					{
						"name": "Month",
						"type": "String"
					},
					{
						"name": "Year",
						"type": "String"
					},
					{
						"name": "MMMYY",
						"type": "String"
					},
					{
						"name": "Price",
						"type": "String"
					},
					{
						"name": "Price_Lb",
						"type": "String"
					},
					{
						"name": "Close",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/FuturesImp')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Sara Database",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "DBO",
					"table": "FuturesImp"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/GTT0402All')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "GTT0402All",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "RestResource",
				"typeProperties": {},
				"schema": []
			},
			"dependsOn": []
		}
	]
}