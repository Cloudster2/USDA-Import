{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "ImportUSDA"
		},
		"EuroSlaughterCowsSQL_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'EuroSlaughterCowsSQL'"
		},
		"EuroStatsImport_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'EuroStatsImport'"
		},
		"SQLEuroSlaughterCows_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SQLEuroSlaughterCows'"
		},
		"SaraDB connection_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SaraDB connection'"
		},
		"TestTriggerConnection_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'TestTriggerConnection'"
		},
		"WorkDairy_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'WorkDairy'"
		},
		"usdadata_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'usdadata'"
		},
		"ColdStorageAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=BUTTER&commodity_desc=CHEESE&statisticcat_desc=STOCKS&agg_level_desc=NATIONAL&year__GE=2016&freq_desc=POINT IN TIME"
		},
		"CowInventoryRest_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=CATTLE&statisticcat_desc=INVENTORY, AVG&class_desc=COWS, MILK&year__GE=2016&agg_level_desc=NATIONAL&agg_level_desc=STATE&freq_desc=MONTHLY"
		},
		"EuroSlaughterCows_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "http://ec.europa.eu/eurostat/wdds/rest/data/v2.1/json/en/apro_mt_pwgtm?sinceTimePeriod=2020M06&precision=1&unit=THS_HD&meat=B1230&meat=B1240&shortLabel=1"
		},
		"EuroSlaughterCowsAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "http://ec.europa.eu/eurostat/wdds/rest/data/v2.1/json/en/ apro_mt_pwgtm?filterNonGeo=1&precision=1&unit=THS_HD&meat=B1230&shortLabel=1&time=2020M12&time=2021M01&time=2021M02&time=2021M03&time=2021M04"
		},
		"EuroStatsSlaughter_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "http://ec.europa.eu/eurostat/wdds/rest/data/v2.1/unicode/en/apro_mt_pwgtm?sinceTimePeriod=2018M06&groupedIndicators=1&precision=1&unit=THS_HD&meat=B1230&meat=B1240&shortLabel=1"
		},
		"GatsAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://apps.fas.usda.gov/OpenData/api/gats/commodities"
		},
		"HttpServer1_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "http://ec.europa.eu/eurostat/wdds/rest/data/v2.1/json/en/apro_mt_pwgtm?precision=1&unit=THS_HD&meat=B1240&shortLabel=1&time=2021M01&time=2021M02&time=2021M03&time=2021M04"
		},
		"Milk ProductionAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=MILK&statisticcat_desc=PRODUCTION&unit_desc=LB&unit_desc=Gallons&agg_level_desc=STATE&agg_level_desc=NATIONAL &year__GE=2016"
		},
		"MilkPerCowAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=MILK&statisticcat_desc=PRODUCTION&Unit_desc=LB / HEAD&year__GE=2016&agg_level_desc=NATIONAL&agg_level_desc=STATE&freq_desc=MONTHLY"
		},
		"NumberOfCowsAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78&commodity_desc=CATTLE&statisticcat_desc=INVENTORY, AVG&class_desc=COWS, MILK&year__GE=2016&agg_level_desc=NATIONAL&agg_level_desc=STATE&freq_desc=MONTHLY"
		},
		"RestDairyProduction_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=BUTTER&commodity_desc=BUTTERMILK&commodity_desc=CHEESE&commodity_desc=CREAM&commodity_desc=DAIRY PRODUCT OTHER&commodity_desc=ICE CREAM&commodity_desc=MILK&commodity_desc=WHEY&commodity_desc=YOGURT&statisticcat_desc=PRODUCTION&unit_desc=LB&unit_desc=Gallons&agg_level_desc=STATE&agg_level_desc=NATIONAL &year__GE=2016"
		},
		"RestMilk Annual_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78&commodity_desc=MILK&statisticcat_desc=PRODUCTION&unit_desc=LB&unit_desc=Gallons&agg_level_desc=STATE&agg_level_desc=NATIONAL&freq_desc=ANNUAL&year__LE=2015&year__GE=2010"
		},
		"SlaughterNationalImport_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=CATTLE&class_desc=COWS, MILK&util_practice= SLAUGHTER, COMMERCIAL, FI &statisticalcat_desc=SLAUGHTERED&year__GE=2018&freq_desc=WEEKLY&freq_desc=MONTHLY &agg_level_desc=NATIONAL"
		},
		"SlaughterRegionalAPI_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=CATTLE&class_desc=COWS, MILK&statisticalcat_desc=SLAUGHTERED&year__GE=2018&freq_desc=WEEKLY&agg_level_desc=REGION : MULTI-STATE"
		},
		"USDAStocks_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://quickstats.nass.usda.gov/api/api_GET/?key=D5ED7EBA-1BA4-3BA8-BE76-A097ABD12F78 &commodity_desc=BUTTER&commodity_desc=BUTTERMILK&commodity_desc=CHEESE&commodity_desc=MILK&commodity_desc=WHEY&statisticcat_desc=STOCKS&agg_level_desc=NATIONAL&year__GE=2016&freq_desc=POINT IN TIME"
		},
		"containerUri": {
			"type": "string",
			"metadata": "URI to storage account containing linked ARM templates"
		},
		"containerSasToken": {
			"type": "string",
			"metadata": "Sas token to storage account containing linked ARM templates"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "ImportUSDA_ArmTemplate_0",
			"type": "Microsoft.Resources/deployments",
			"apiVersion": "2018-02-01",
			"properties": {
				"mode": "incremental",
				"templateLink": {
					"uri": "[concat(parameters('containerUri'), '/ArmTemplate_0.json', parameters('containerSasToken'))]",
					"contentVersion": "1.0.0.0"
				},
				"parameters": {
					"factoryName": {
						"value": "[parameters('factoryName')]"
					},
					"EuroSlaughterCowsSQL_connectionString": {
						"value": "[parameters('EuroSlaughterCowsSQL_connectionString')]"
					},
					"EuroStatsImport_connectionString": {
						"value": "[parameters('EuroStatsImport_connectionString')]"
					},
					"SQLEuroSlaughterCows_connectionString": {
						"value": "[parameters('SQLEuroSlaughterCows_connectionString')]"
					},
					"SaraDB connection_connectionString": {
						"value": "[parameters('SaraDB connection_connectionString')]"
					},
					"TestTriggerConnection_connectionString": {
						"value": "[parameters('TestTriggerConnection_connectionString')]"
					},
					"ColdStorageAPI_properties_typeProperties_url": {
						"value": "[parameters('ColdStorageAPI_properties_typeProperties_url')]"
					},
					"CowInventoryRest_properties_typeProperties_url": {
						"value": "[parameters('CowInventoryRest_properties_typeProperties_url')]"
					},
					"EuroSlaughterCows_properties_typeProperties_url": {
						"value": "[parameters('EuroSlaughterCows_properties_typeProperties_url')]"
					},
					"EuroSlaughterCowsAPI_properties_typeProperties_url": {
						"value": "[parameters('EuroSlaughterCowsAPI_properties_typeProperties_url')]"
					},
					"EuroStatsSlaughter_properties_typeProperties_url": {
						"value": "[parameters('EuroStatsSlaughter_properties_typeProperties_url')]"
					},
					"GatsAPI_properties_typeProperties_url": {
						"value": "[parameters('GatsAPI_properties_typeProperties_url')]"
					},
					"HttpServer1_properties_typeProperties_url": {
						"value": "[parameters('HttpServer1_properties_typeProperties_url')]"
					},
					"Milk ProductionAPI_properties_typeProperties_url": {
						"value": "[parameters('Milk ProductionAPI_properties_typeProperties_url')]"
					},
					"MilkPerCowAPI_properties_typeProperties_url": {
						"value": "[parameters('MilkPerCowAPI_properties_typeProperties_url')]"
					},
					"NumberOfCowsAPI_properties_typeProperties_url": {
						"value": "[parameters('NumberOfCowsAPI_properties_typeProperties_url')]"
					},
					"RestDairyProduction_properties_typeProperties_url": {
						"value": "[parameters('RestDairyProduction_properties_typeProperties_url')]"
					},
					"RestMilk Annual_properties_typeProperties_url": {
						"value": "[parameters('RestMilk Annual_properties_typeProperties_url')]"
					},
					"SlaughterNationalImport_properties_typeProperties_url": {
						"value": "[parameters('SlaughterNationalImport_properties_typeProperties_url')]"
					},
					"SlaughterRegionalAPI_properties_typeProperties_url": {
						"value": "[parameters('SlaughterRegionalAPI_properties_typeProperties_url')]"
					},
					"USDAStocks_properties_typeProperties_url": {
						"value": "[parameters('USDAStocks_properties_typeProperties_url')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "ImportUSDA_ArmTemplate_1",
			"type": "Microsoft.Resources/deployments",
			"apiVersion": "2018-02-01",
			"properties": {
				"mode": "incremental",
				"templateLink": {
					"uri": "[concat(parameters('containerUri'), '/ArmTemplate_1.json', parameters('containerSasToken'))]",
					"contentVersion": "1.0.0.0"
				},
				"parameters": {
					"factoryName": {
						"value": "[parameters('factoryName')]"
					},
					"WorkDairy_connectionString": {
						"value": "[parameters('WorkDairy_connectionString')]"
					},
					"usdadata_connectionString": {
						"value": "[parameters('usdadata_connectionString')]"
					}
				}
			},
			"dependsOn": [
				"[resourceId('Microsoft.Resources/deployments', 'ImportUSDA_ArmTemplate_0')]"
			]
		},
		{
			"name": "ImportUSDA_ArmTemplate_2",
			"type": "Microsoft.Resources/deployments",
			"apiVersion": "2018-02-01",
			"properties": {
				"mode": "incremental",
				"templateLink": {
					"uri": "[concat(parameters('containerUri'), '/ArmTemplate_2.json', parameters('containerSasToken'))]",
					"contentVersion": "1.0.0.0"
				},
				"parameters": {
					"factoryName": {
						"value": "[parameters('factoryName')]"
					}
				}
			},
			"dependsOn": [
				"[resourceId('Microsoft.Resources/deployments', 'ImportUSDA_ArmTemplate_1')]"
			]
		}
	]
}